@page "/"
@inject ISettingService SettingService

@using System.Text.RegularExpressions
@using System.ComponentModel.DataAnnotations
@using IoneVectronConverter.Common

<MudText Typo="Typo.h3">Einstellungen</MudText><MudGrid>
    <MudItem xs="12" sm="7">
        <MudPaper Class="pa-4 mt-4">
            <MudText Typo="Typo.h4">Ione Api</MudText>
            <MudForm>

                <MudTextField T="string" Label="ApiBaseAddress" @bind-value="vectronSettings.ApiBaseAddress"/>
                <MudTextField T="int" Label="BranchAddressId" @bind-value="vectronSettings.BranchAddressId"/>
                <MudTextField T="string" Label="IoneApiIdentifier" @bind-value="vectronSettings.IoneApiIdentifier"/>
                <MudTextField T="string" Label="IoneApiToken"@bind-value="vectronSettings.IoneApiToken"/>
                <MudTextField T="string" Label="WebServiceUrlPrefix" @bind-value="vectronSettings.WebServiceUrlPrefix"/>

            </MudForm>
        </MudPaper>
        <MudPaper Class="pa-4 mt-4">
            <MudText Typo="Typo.h4">Vectron Einstellungen</MudText>
            <MudForm>
                <MudTextField T="int" Label="OperatorCode" @bind-value="vectronSettings.OperatorCode"/>
                <MudTextField T="int" Label="AttributeNoForWebShop" @bind-value="vectronSettings.AttributeNoForWebShop"/>
                <MudTextField T="int" Label="Operator" @bind-value="vectronSettings.Operator"/>
                <MudTextField T="int" Label="ReceiptMediaNo" @bind-value="vectronSettings.ReceiptMediaNo"/>
                <MudTextField T="int" Label="TipDiscountNumber" @bind-value="vectronSettings.TipDiscountNumber"/>
                <MudTextField T="string" Label="VPosIPAddress" @bind-value="vectronSettings.VPosIPAddress"/>
                <MudTextField T="int" Label="VPosIpPort" @bind-value="vectronSettings.VPosIpPort"/>

            </MudForm>
        </MudPaper>
        <MudPaper Class="pa-4 mt-4">
            <MudButton Variant="Variant.Filled" Color="Color.Primary" DisableElevation="true" OnClick="@(() => Submit())">Speichern</MudButton>
            <MudButton Variant="Variant.Filled" Color="Color.Primary" DisableElevation="true" OnClick="@(() => Reset())">Reset</MudButton>
        </MudPaper>
    </MudItem>
    <MudItem></MudItem>
    <MudItem xs="12" sm="5">
        <MudPaper Class="pa-4 mud-height-full">
          
        </MudPaper>
    </MudItem>
</MudGrid>


@code {

    VectronSettings vectronSettings;

    protected override void OnInitialized()
    {
        vectronSettings = SettingService.GetSettings().Vectron;
    }

    private void Submit()
    {
        SettingService.SetSettings();
    }

    private void Reset()
    {
    }

}